!function(d){"use strict";let e=function(d,e){e.ajax({url:tmpcoder_plugin_script.ajax_url,type:"POST",data:{action:"check_product_in_compare",product_id:d.find(".tmpcoder-compare-add").data("product-id"),nonce:tmpcoder_plugin_script.nonce},success:function(e){!0==e&&(d.find(".tmpcoder-compare-add").hasClass("tmpcoder-button-hidden")||d.find(".tmpcoder-compare-add").addClass("tmpcoder-button-hidden"),d.find(".tmpcoder-compare-remove").hasClass("tmpcoder-button-hidden")&&d.find(".tmpcoder-compare-remove").removeClass("tmpcoder-button-hidden"))}}),d.find(".tmpcoder-compare-add").click(function(o){o.preventDefault();var a=e(this).data("product-id"),t=e(this);e(this).fadeTo(500,0),e.ajax({url:tmpcoder_plugin_script.ajax_url,type:"POST",data:{action:"add_to_compare",product_id:a,nonce:tmpcoder_plugin_script.nonce},success:function(){if(d.find('.tmpcoder-compare-add[data-product-id="'+a+'"]').hide(),d.find('.tmpcoder-compare-remove[data-product-id="'+a+'"]').show(),d.find('.tmpcoder-compare-remove[data-product-id="'+a+'"]').fadeTo(500,1),changeActionTargetProductId(a),e(document).trigger("added_to_compare"),console.log(t.data("atcompare-popup")),"popup"===t.data("atcompare-popup")){var o,r,c=e(".elementor-widget-tmpcoder-woo-product-title .elementor-heading-title").text(),p=tmpcoder_plugin_script.comparePageURL,m="yes"==t.data("open-in-new-tab")?"_blank":"_self",i=e(".wp-post-image").length?e(".wp-post-image").data("src"):"",n=t.data("atcompare-animation"),s=t.data("atcompare-fade-out-in"),u=t.data("atcompare-animation-time"),f="tmpcoder-added-to-compare-default";"slide-left"===n?(f="tmpcoder-added-to-compare-slide-in-left",r="tmpcoder-added-to-compare-slide-out-left"):"scale-up"===n?(f="tmpcoder-added-to-compare-scale-up",r="tmpcoder-added-to-compare-scale-down"):"skew"===n?(f="tmpcoder-added-to-compare-skew",r="tmpcoder-added-to-compare-skew-off"):"fade"===n?(f="tmpcoder-added-to-compare-fade",r="tmpcoder-added-to-compare-fade-out"):r="tmpcoder-added-to-compare-popup-hide",o=""!==i?'<div class="tmpcoder-added-tcomp-popup-img"><img src='+i+' alt="" /></div>':"",console.log(i),d.find("#tmpcoder-added-to-comp-"+a).length>0||(console.log(p),d.append('<div id="tmpcoder-added-to-comp-'+a+'" class="tmpcoder-added-to-compare-popup '+f+'">'+o+'<div class="tmpcoder-added-tc-title"><p>'+c+" was added to Compare</p><p><a target="+m+" href="+p+">View Compare</a></p></div></div>"),setTimeout(()=>{d.find("#tmpcoder-added-to-comp-"+a).addClass(r),setTimeout(()=>{d.find("#tmpcoder-added-to-comp-"+a).remove()},1e3*u)},1e3*s))}},error:function(d){alert(d.responseJSON.message)}})}),d.find(".tmpcoder-compare-remove").click(function(o){o.preventDefault();var a=e(this).data("product-id");e(this).fadeTo(500,0),e.ajax({url:tmpcoder_plugin_script.ajax_url,type:"POST",data:{action:"remove_from_compare",product_id:a,nonce:tmpcoder_plugin_script.nonce},success:function(){d.find('.tmpcoder-compare-remove[data-product-id="'+a+'"]').hide(),d.find('.tmpcoder-compare-add[data-product-id="'+a+'"]').show(),d.find('.tmpcoder-compare-add[data-product-id="'+a+'"]').fadeTo(500,1),changeActionTargetProductId(a),e(document).trigger("removed_from_compare")}})}),e(document).on("removed_from_compare",function(){d.find('.tmpcoder-compare-remove[data-product-id="'+actionTargetProductId+'"]').hide(),d.find('.tmpcoder-compare-add[data-product-id="'+actionTargetProductId+'"]').show(),d.find('.tmpcoder-compare-add[data-product-id="'+actionTargetProductId+'"]').fadeTo(500,1)})};d(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/tmpcoder-compare-button-pro.default",e)})}(jQuery);