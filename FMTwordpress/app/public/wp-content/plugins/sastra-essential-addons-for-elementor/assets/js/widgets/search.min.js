!function(t){"use strict";let e=function(e){var o,d=!1;e.find(".tmpcoder-search-form-input").on({focus:function(){e.addClass("tmpcoder-search-form-input-focus")},blur:function(){e.removeClass("tmpcoder-search-form-input-focus")}}),e.find(".tmpcoder-category-select").length>0&&(t(document).ready(function(){var o=localStorage.getItem("tmpcoderSelectedCategory");o&&e.find(".tmpcoder-category-select option").each(function(){if(t(this).val()===o)return d=!0,e.find(".tmpcoder-category-select").val(o),!1;e.find(".tmpcoder-category-select").val(0)})}),e.find(".tmpcoder-category-select").on("change",function(o){var d=t(this).val();localStorage.setItem("tmpcoderSelectedCategory",d),"yes"===e.find(".tmpcoder-search-form-input").attr("ajax-search")&&(n=0,e.find(".tmpcoder-data-fetch").hide(),e.find(".tmpcoder-data-fetch ul").html(""),c(e.find(".tmpcoder-search-form-input"),n,o))}));var r=null;function c(d,c,n){if(13===n.which)return!1;null!=r&&clearTimeout(r);var a=e.find(".tmpcoder-category-select").length>0&&e.find(".tmpcoder-category-select").find("option:selected").data("post-type"),i=e.find(".tmpcoder-search-form-input").attr("tmpcoder-taxonomy-type");e.find(".tmpcoder-category-select").length>0&&!i&&(i="product"==e.find(".tmpcoder-search-form-input").attr("tmpcoder-query-type")?"product_cat":"category"),r=setTimeout(()=>{var r=d.val();t.ajax({type:"POST",url:tmpcoder_plugin_script.ajax_url,data:{action:"tmpcoder_data_fetch",nonce:tmpcoder_plugin_script.nonce,tmpcoder_keyword:e.find(".tmpcoder-search-form-input").val(),tmpcoder_query_type:e.find(".tmpcoder-search-form-input").attr("tmpcoder-query-type"),tmpcoder_option_post_type:a?e.find(".tmpcoder-category-select").find("option:selected").data("post-type"):"",tmpcoder_taxonomy_type:i,tmpcoder_category:e.find(".tmpcoder-category-select").length>0?e.find(".tmpcoder-category-select").val():"",tmpcoder_number_of_results:e.find(".tmpcoder-search-form-input").attr("number-of-results"),tmpcoder_search_results_offset:c,tmpcoder_show_description:e.find(".tmpcoder-search-form-input").attr("show-description"),tmpcoder_number_of_words:e.find(".tmpcoder-search-form-input").attr("number-of-words"),tmpcoder_show_ajax_thumbnail:e.find(".tmpcoder-search-form-input").attr("show-ajax-thumbnails"),tmpcoder_show_view_result_btn:e.find(".tmpcoder-search-form-input").attr("show-view-result-btn"),tmpcoder_view_result_text:e.find(".tmpcoder-search-form-input").attr("view-result-text"),tmpcoder_no_results:e.find(".tmpcoder-search-form-input").attr("no-results"),tmpcoder_exclude_without_thumb:e.find(".tmpcoder-search-form-input").attr("exclude-without-thumb"),tmpcoder_ajax_search_link_target:e.find(".tmpcoder-search-form-input").attr("link-target")},success:function(t){e.closest("section").addClass("tmpcoder-section-z-index"),""===e.find(".tmpcoder-data-fetch ul").html()?(e.find(".tmpcoder-pagination-loading").hide(),e.find(".tmpcoder-data-fetch ul").html(t),e.find(".tmpcoder-no-more-results").fadeOut(100),setTimeout(function(){t.includes("tmpcoder-no-results")?e.find(".tmpcoder-ajax-search-pagination").css("display","none"):(e.find(".tmpcoder-ajax-search-pagination").css("display","flex"),e.find(".tmpcoder-data-fetch ul").find("li").length<e.find(".tmpcoder-search-form-input").attr("number-of-results")||e.find(".tmpcoder-data-fetch ul").find("li").length==e.find(".tmpcoder-data-fetch ul").find("li").data("number-of-results")?(e.find(".tmpcoder-ajax-search-pagination").css("display","none"),e.find(".tmpcoder-load-more-results").fadeOut(100)):(e.find(".tmpcoder-ajax-search-pagination").css("display","flex"),e.find(".tmpcoder-load-more-results").fadeIn(100)))},100),o=t):t!=o&&(o=t,t.includes("tmpcoder-no-results")?(e.find(".tmpcoder-ajax-search-pagination").css("display","none"),e.find(".tmpcoder-data-fetch ul").html(""),e.closest("section").removeClass("tmpcoder-section-z-index")):e.find(".tmpcoder-ajax-search-pagination").css("display","flex"),e.find(".tmpcoder-data-fetch ul").append(t),""==t?(e.find(".tmpcoder-load-more-results").fadeOut(100),setTimeout(function(){e.find(".tmpcoder-pagination-loading").hide(),e.find(".tmpcoder-no-more-results").fadeIn(100)},100)):(e.find(".tmpcoder-pagination-loading").hide(),e.find(".tmpcoder-load-more-results").show()),e.find(".tmpcoder-data-fetch ul").find("li").length<e.find(".tmpcoder-search-form-input").attr("number-of-results")?(e.find(".tmpcoder-load-more-results").fadeOut(100),setTimeout(function(){e.find(".tmpcoder-pagination-loading").hide(),e.find(".tmpcoder-no-more-results").fadeIn(100)},100)):e.find(".tmpcoder-load-more-results").show(),e.find(".tmpcoder-data-fetch ul").find("li").length==e.find(".tmpcoder-data-fetch ul").find("li").data("number-of-results")?(e.find(".tmpcoder-load-more-results").fadeOut(100),setTimeout(function(){e.find(".tmpcoder-pagination-loading").hide(),e.find(".tmpcoder-no-more-results").fadeIn(100)},100)):e.find(".tmpcoder-load-more-results").show()),t.includes("tmpcoder-no-results")?(e.find(".tmpcoder-ajax-search-pagination").css("display","none"),e.find(".tmpcoder-load-more-results").fadeOut()):e.find(".tmpcoder-ajax-search-pagination").css("display","flex"),r.length>2?(e.find(".tmpcoder-data-fetch").slideDown(200),e.find(".tmpcoder-data-fetch ul").fadeTo(200,1)):(e.find(".tmpcoder-data-fetch").slideUp(200),e.find(".tmpcoder-data-fetch ul").fadeTo(200,0),setTimeout(function(){e.find(".tmpcoder-data-fetch ul").html(""),e.find(".tmpcoder-no-results").remove(),e.closest("section").removeClass("tmpcoder-section-z-index")},600),c=0)},error:function(t){console.log(t)}})},400)}if("yes"===e.find(".tmpcoder-search-form-input").attr("ajax-search")){e.find(".tmpcoder-search-form").attr("autocomplete","off");var n=0;e.find(".tmpcoder-load-more-results").on("click",function(t){n+=+e.find(".tmpcoder-search-form-input").attr("number-of-results"),e.find(".tmpcoder-load-more-results").hide(),e.find(".tmpcoder-pagination-loading").css("display","inline-block"),c(e.find(".tmpcoder-search-form-input"),n,t)}),e.find(".tmpcoder-search-form-input").on("keyup",function(o){n=0,e.find(".tmpcoder-data-fetch").hide(),e.find(".tmpcoder-data-fetch ul").html(""),c(t(this),n,o)}),e.find(".tmpcoder-data-fetch").on("click",".tmpcoder-close-search",function(){e.find(".tmpcoder-search-form-input").val(""),e.find(".tmpcoder-data-fetch").slideUp(200),setTimeout(function(){e.find(".tmpcoder-data-fetch ul").html(""),e.find(".tmpcoder-no-results").remove(),e.closest("section").removeClass("tmpcoder-section-z-index")},400),n=0}),t("body").on("click",function(t){t.target.classList.value.includes("tmpcoder-data-fetch")||t.target.closest(".tmpcoder-data-fetch")||t.target.classList.value.includes("tmpcoder-search-form")||t.target.closest(".tmpcoder-search-form")||(e.find(".tmpcoder-search-form-input").val(""),e.find(".tmpcoder-data-fetch").slideUp(200),setTimeout(function(){e.find(".tmpcoder-data-fetch ul").html(""),e.find(".tmpcoder-no-results").remove(),e.closest("section").removeClass("tmpcoder-section-z-index")},400),n=0)}),new MutationObserver(function(o){e.find(".tmpcoder-data-fetch li").on("click",function(){var e=t(this).find("a").attr("href"),o=t(this).find("a").attr("target");window.open(e,o).focus()})}).observe(e[0],{childList:!0,subtree:!0})}};t(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/tmpcoder-search.default",e)})}(jQuery);