!function(t){"use strict";let d=function(t,d){d.ajax({url:tmpcoder_plugin_script.ajax_url,type:"POST",data:{action:"count_wishlist_items",element_addcart_simple_txt:t.find(".tmpcoder-wishlist-products").attr("element_addcart_simple_txt"),element_addcart_grouped_txt:t.find(".tmpcoder-wishlist-products").attr("element_addcart_grouped_txt"),element_addcart_variable_txt:t.find(".tmpcoder-wishlist-products").attr("element_addcart_variable_txt"),nonce:tmpcoder_plugin_script.nonce},success:function(i){var s=t.find(".tmpcoder-wishlist-product"),e=s.map(function(){return d(this).data("product-id")}).get(),r=i.wishlist_items.filter(function(t){return!e.includes(t.product_id)}),o=i.wishlist_items.map(function(t){return t.product_id});s.each(function(){var t=d(this).data("product-id");o.includes(t)||d(this).remove()}),r.forEach(function(d){var i='<tr class="tmpcoder-wishlist-product" data-product-id="'+d.product_id+'">';i+='<td><span class="tmpcoder-wishlist-remove" data-product-id="'+d.product_id+'"></span></td>',i+='<td><a class="tmpcoder-wishlist-img-wrap" href="'+d.product_url+'">'+d.product_image+"</a></td>",i+='<td><a class="tmpcoder-wishlist-product-name" href="'+d.product_url+'">'+d.product_title+"</a></td>",i+='<td><div class="tmpcoder-wishlist-product-price">'+d.product_price+"</div></td>",i+='<td><div class="tmpcoder-wishlist-product-status">'+d.product_stock+"</div></td>",i+='<td><div class="tmpcoder-wishlist-product-atc">'+d.product_atc+"</div></td>",i+="</tr>",t.find(".tmpcoder-wishlist-products tbody").append(i)}),0<+i.wishlist_count?(t.find(".tmpcoder-wishlist-products").hasClass("tmpcoder-wishlist-empty-hidden")&&t.find(".tmpcoder-wishlist-products").removeClass("tmpcoder-wishlist-empty-hidden"),t.find(".tmpcoder-wishlist-empty").hasClass("tmpcoder-wishlist-empty-hidden")||t.find(".tmpcoder-wishlist-empty").addClass("tmpcoder-wishlist-empty-hidden")):(t.find(".tmpcoder-wishlist-products").hasClass("tmpcoder-wishlist-empty-hidden")||t.find(".tmpcoder-wishlist-products").addClass("tmpcoder-wishlist-empty-hidden"),t.find(".tmpcoder-wishlist-empty").hasClass("tmpcoder-wishlist-empty-hidden")&&t.find(".tmpcoder-wishlist-empty").removeClass("tmpcoder-wishlist-empty-hidden"))},error:function(t){console.log(t)}}),t.on("click",".tmpcoder-wishlist-remove",function(i){i.preventDefault();var s=d(this).data("product-id");d.ajax({url:tmpcoder_plugin_script.ajax_url,type:"POST",data:{action:"remove_from_wishlist",product_id:s,nonce:tmpcoder_plugin_script.nonce},success:function(i){1===t.find(".tmpcoder-wishlist-product").length&&(t.find(".tmpcoder-wishlist-products").hasClass("tmpcoder-wishlist-empty-hidden")||t.find(".tmpcoder-wishlist-products").addClass("tmpcoder-wishlist-empty-hidden"),t.find(".tmpcoder-wishlist-empty").hasClass("tmpcoder-wishlist-empty-hidden")&&t.find(".tmpcoder-wishlist-empty").removeClass("tmpcoder-wishlist-empty-hidden")),t.find('.tmpcoder-wishlist-product[data-product-id="'+s+'"]').remove(),changeActionTargetProductId(s),d(document).trigger("removed_from_wishlist")},error:function(t){console.log(t)}})}),d("body").on("added_to_cart",function(t,d,i,s){s.next().fadeTo(700,1),s.css("display","none")})};t(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/tmpcoder-wishlist-pro.default",d)})}(jQuery);